{%extends 'layout.html' %}
{%block content%}


<div class="info">
    <h2>About</h2>
    <p>This is a gallery of all images. To filter check tags that you would like to view 
        specifically.</p>
    <button onclick="filterfunction()">Filter</button>
    <div id="filters">
        <form method="POST" action="" enctype="multipart/form-data">
            <p>{{ form.options }}</p>
        <div class="submit_filter">
        <input type="submit" value="Submit">
        </div>
        </form>
    </div>
    {% if list_of_tags == [] %}
    {% else %}
    <p>Current filters: </p>
    {% for tag in list_of_tags %}
    <li>{{tag}}</li>
    {% endfor %}
    {% endif %}
</div>



<div class="gallery">

{% if display_all == True%}
    <div id="grid">
        {% for picture in url_of_all_images %}
            <a class="link_info" href="/photo/{{picture.id}}"><img src="/static/images/{{picture.url}}"></a>
        {% endfor %}
    </div>
{% endif %}

{% if display_all == False%}
    
        {% if image_url != [] %}
        <div id="grid">
        {% for picture in image_url %}
        
            <a class="link_info" href="/photo/{{picture[0]}}"><img src="/static/images/{{picture[1]}}"></a>
        {% endfor %}
        </div>
        {% else %}
        <div class="no_tags">
            <h2>There are currently no images with tag(s) selected. Try again with differnt tags.</h2>
        </div>
        {% endif %}
    
{% endif %}

</div>

<script>
function filterfunction() {
    var filter = document.getElementById("filters");
    if (filter.style.display !== "block") {
        filter.style.display = "block";
    } else {
        filter.style.display = "none";
    }
}
</script>

{% endblock %}


